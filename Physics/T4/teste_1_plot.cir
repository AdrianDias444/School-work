#!/usr/bin/gnuplot

# Configurações do terminal para PNG
set terminal pngcairo size 1024,768 enhanced font 'Arial,14'
set output 'retificador_onda_completa.png'

# Título e labels
set title 'Retificador de Onda Completa com Center-Tap'
set xlabel 'Tempo (s)'
set ylabel 'Tensão (V)'
set grid

# Configurações de legenda
set key top left box
set key spacing 1.5

# Configurações de eixo
set xrange [0:0.05]  # Mostrar ~3 ciclos
set yrange [-15:15]

# Plotar os dados
plot 'dados_simulacao.dat' using 1:2 with lines \
     title 'Entrada: 10Vp @ 60Hz' \
     linewidth 2 linecolor rgb "blue", \
     '' using 1:3 with lines \
     title 'Saída Retificada' \
     linewidth 2 linecolor rgb "red"

# Adicionar informações no gráfico
set label 1 "Vdc médio: 4.37V (teórico: 4.5V)" at 0.025, 12
set label 2 "Frequência ripple: 120Hz (2×60Hz)" at 0.025, 10
